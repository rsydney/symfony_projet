{% extends 'base.html.twig' %}

{% block title %}Liste des utilisateurs{% endblock %}

{% block body %}
    <h1 style="margin-bottom: 20px; color: #4a90e2;">Liste des utilisateurs</h1>

    <!-- Tableau des utilisateurs -->
    <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #f3f4f6; color: #374151; text-align: left;">
                    <th style="padding: 10px; border-bottom: 2px solid #e5e7eb;">Role</th>
                    <th style="padding: 10px; border-bottom: 2px solid #e5e7eb;">Nom Complet</th>
                    <th style="padding: 10px; border-bottom: 2px solid #e5e7eb;">Login</th>
                    <th style="padding: 10px; border-bottom: 2px solid #e5e7eb;">Téléphone</th>
                    <th style="padding: 10px; border-bottom: 2px solid #e5e7eb;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                    <tr>
                        <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">{{ user.role }}</td>
                        <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">
                            {{ user.prenom }} {{ user.nom }}
                        </td>
                        <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">{{ user.username }}</td>
                        <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">{{ user.telephone }}</td>
                        <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">
    <form method="get" action="{{ path('utilisateur_edit', {'id': user.id}) }}" style="display: inline;">
        <button type="submit" 
                style="padding: 5px 10px; 
                       background-color: #fbbc05; 
                       color: white; 
                       border: none; 
                       border-radius: 5px; 
                       cursor: pointer; 
                       font-size: 14px; 
                       margin-right: 5px;">
            Modifier
        </button>
    </form>

    <form method="post" action="{{ path('utilisateur_delete', {'id': user.id}) }}" style="display: inline;">
        <button type="submit" 
                style="padding: 5px 10px; 
                       background-color: #ea4335; 
                       color: white; 
                       border: none; 
                       border-radius: 5px; 
                       cursor: pointer; 
                       font-size: 14px;">
            Supprimer
        </button>
    </form>
</td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="5" style="padding: 10px; text-align: center; color: #757575;">
                            Aucun utilisateur trouvé
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}

